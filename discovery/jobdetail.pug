include data/jobdetail.pug
include component/header.pug
include component/preview-elements.pug

mixin jdp-header(jobad)
  .jdp-header.d-block.d-sm-none.header-hide
    .p-2.d-flex(style="align-items: center; justify-content: center;")
      .text-primary(style="width: 30px;")
        i.fa.fa-chevron-left
      .text-center(style="flex-grow: 1; margin-left: -30px") !{jobad.JobTitle}


mixin jdp-action-bar
  .jdp-action-bar.d-block.d-sm-none.d-flex
    div(style="flex-grow: 1")
      button.btn.btn-primary.btn-block Apply
    .text-center(style="width: 50px;")
      i.fa.fa-2x.fa-bookmark.position-relative(style="right: -5px; opacity: .5")

html.smooth-scroll
  head
    +header('Job Detail Page')
  body.bg-grey
    +jdp-header(jobdetail[2])

    //- content starts
    .container.mt-3.mb-3
      +preview(jobdetail[2], 'standalone')
    //- content ends

    +jdp-action-bar

    script.
      const jdpHeader = document.querySelector(".jdp-header")
      const keyInfo = document.querySelector("#keyInfo")
      window.addEventListener("scroll", (e) => {
        let titleVisible;
        if (checkVisible(keyInfo)) {
          jdpHeader.classList.add('header-hide')
        } else {
          jdpHeader.classList.remove('header-hide')
        }
      })